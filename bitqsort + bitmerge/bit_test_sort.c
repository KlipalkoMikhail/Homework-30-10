#include "headers.h"
#define N 4

// 112 Клипалко Михаил Михайлович
// функция проверки сортировки на упорядоченность
// получаем в качестве параметров массив чисел и параметр текущей мощности массива

int bit_test_sort(int number[], int k, FILE * fout)         // функция проверки отсортированного массива на упорядоченность ПО КОЛИЧЕСТВУ БИТ
{
    fprintf(fout, "Sorted sequence: ");
    fprintf(fout, "\n");

    for (int i = 0; i < k*N - 1; i++)                       // цикл проверки массива на упорядоченность
    {
        if (count_bit(number[i]) > count_bit(number[i+1]))  // условие порядка возрастания чисел
        {
            printf("INCORRECT SORTING.\n");                 // неверное упорядочивание
            return -1;
        }
    }

    for (int s = 0; s < k*N; ++s)                           // цикл записи чисел в fout
    {
        to_binary(number[s], fout);                         // распечатка чисел массива в виде число | битовое представление | количество бит
    }

    printf("SORTING IS CORRECT.\n");

    fprintf(fout, "\n");                                    // конец функции

    return 0;
}
